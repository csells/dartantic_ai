---
title: Multi-Provider Conversations
---

# Multi-Provider Conversations

Share conversations seamlessly between different AI providers to leverage each one's strengths.

## Why Multiple Providers?

### Cost Optimization
```dart
// Simple tasks with cheap provider
final gemini = Agent('google');
var result = await gemini.send('Summarize: $text', history: history);
history.addAll(result.messages);

// Complex tasks with powerful provider
final claude = Agent('anthropic');
result = await claude.send('Analyze implications...', history: history);
history.addAll(result.messages);
```

### Capability Mixing
- **Claude**: Deep reasoning
- **GPT-4**: General capability + tools
- **Gemini**: Fast and cheap
- **Mistral**: European languages

### Tool Availability
```dart
// Start with Claude
final claude = Agent('anthropic');
var result = await claude.send('I need weather data', history: history);
history.addAll(result.messages);

// Switch to OpenAI with tools
final openai = Agent('openai', tools: [weatherTool]);
result = await openai.send('Get Seattle weather', history: history);
history.addAll(result.messages);

// Back to Claude for analysis
result = await claude.send('What should I wear?', history: history);
```

## Complete Example

```dart
Future<void> processCustomerRequest() async {
  final history = <ChatMessage>[];
  
  // 1. Quick triage with Gemini
  final triage = Agent('google:gemini-2.0-flash');
  var result = await triage.send(
    'Customer says: "My order #12345 hasn\'t arrived"',
    history: history,
  );
  history.addAll(result.messages);
  
  // 2. Lookup with tools (OpenAI)
  final lookup = Agent('openai', tools: [orderLookupTool]);
  result = await lookup.send(
    'Look up order status',
    history: history,
  );
  history.addAll(result.messages);
  
  // 3. Craft response with Claude
  final responder = Agent('anthropic:claude-3-5-haiku');
  result = await responder.send(
    'Write a helpful customer service response',
    history: history,
  );
  history.addAll(result.messages);
  
  print('Response: ${result.output}');
}
```

## Best Practices

1. **Start cheap**: Use fast providers for simple tasks
2. **Escalate wisely**: Switch to powerful providers when needed
3. **Use tools strategically**: Pick providers with required tools
4. **Maintain context**: Always pass the full history

## Provider Selection Guide

```dart
// Task-based selection
final summarizer = Agent('google:gemini-2.0-flash');
final analyzer = Agent('anthropic:claude-3-5-sonnet');
final coder = Agent('openai:gpt-4o');
final toolUser = Agent('openai', tools: tools);
```

## Examples

- [Multi-provider conversation](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/multi_provider.dart)
- [Agent with tools](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/agent.dart)
- [Chat with context](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/chat.dart)

## Next Steps

- [Providers](/providers) - Available providers and capabilities
- [Multi-turn Chat](/multi-turn-chat) - Managing conversation history
- [Tool Calling](/tool-calling) - Using tools across providers
