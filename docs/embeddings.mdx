---
title: Embeddings
---

# Embeddings

Generate vector embeddings with the same Agent.

## Basic Usage

```dart
final agent = Agent('openai');

// Single text
final result = await agent.embedQuery('Hello world');
print(result.embeddings.length); // 1536

// Multiple texts
final results = await agent.embedDocuments([
  'Machine learning',
  'Deep learning',
  'Neural networks'
]);
```

## Similarity

```dart
// Compare two texts
final embed1 = await agent.embedQuery('cat');
final embed2 = await agent.embedQuery('dog');

final similarity = EmbeddingsModel.cosineSimilarity(
  embed1.embeddings,
  embed2.embeddings,
);
print(similarity); // 0.8234
```

## Search Example

```dart
// Find most similar
final query = await agent.embedQuery('programming');
final docs = await agent.embedDocuments([
  'Dart language',
  'Cooking recipes', 
  'Python coding'
]);

// Get similarities
final sims = docs.embeddings.map((e) => 
  EmbeddingsModel.cosineSimilarity(query.embeddings, e)
).toList();

// Find best match
final best = sims.indexOf(sims.reduce(max));
print('Best match: index $best');
```

## Provider Support

| Provider | Embeddings | Default Dims | Notes |
|----------|------------|--------------|-------|
| OpenAI | ✓ | 1536 | Configurable dimensions |
| Google | ✓ | 768 | Fast and efficient |
| Mistral | ✓ | 1024 | European servers |
| Cohere | ✓ | 1024 | RAG-optimized |
| Anthropic | - | - | Chat only |
| Ollama | - | - | Chat only |

## Configuration

```dart
// Custom model
Agent('openai?embeddings=text-embedding-3-large');

// Reduce dimensions (OpenAI)
final agent = Agent(
  'openai',
  embeddingsModelOptions: OpenAIEmbeddingsModelOptions(
    dimensions: 256, // Smaller vectors
  ),
);
```

## Use Cases

- **Semantic search**: Find similar documents
- **Clustering**: Group related content
- **Recommendations**: Find similar items
- **Duplicate detection**: Identify similar text
- **RAG applications**: Retrieve relevant context

## Examples

- [Embeddings demo](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/embeddings.dart)
- [Basic usage](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/agent.dart)

## Next Steps

- [Providers](/providers) - Embeddings support by provider
- [Basic Agent Usage](/basic-agent-usage) - Using embeddings with agents
