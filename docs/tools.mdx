---
title: Tools
---

# Tools

Tools are functions that extend AI chat agents with custom capabilities.

## Tool Structure

```dart
final tool = Tool(
  name: 'tool_name',           // Unique identifier
  description: 'What it does', // Help AI understand when to use it
  inputSchema: JsonSchema(...), // Parameters (optional)
  onCall: (args) async {...},  // Your implementation
);
```

## Simple Tool

```dart
final coinFlip = Tool(
  name: 'flip_coin',
  description: 'Flip a coin',
  onCall: (_) async => {
    'result': Random().nextBool() ? 'heads' : 'tails'
  },
);
```

## Tool with Parameters

```dart
final calculator = Tool(
  name: 'calculate',
  description: 'Perform math operations',
  inputSchema: JsonSchema.object({
    'expression': JsonSchema.string(description: 'Math expression'),
  }),
  onCall: (args) async {
    final expr = args['expression'] as String;
    // Parse and calculate...
    return {'result': 42};
  },
);
```

## Input Schema Types

```dart
// String
JsonSchema.string(
  minLength: 1,
  pattern: r'^[A-Z]+$',
  enumValues: ['option1', 'option2'],
)

// Number
JsonSchema.number(
  minimum: 0,
  maximum: 100,
)

// Boolean
JsonSchema.boolean(defaultValue: false)

// Object
JsonSchema.object({
  'name': JsonSchema.string(),
  'age': JsonSchema.integer(),
})

// Array
JsonSchema.array(
  items: JsonSchema.string(),
  minItems: 1,
)
```

## Error Handling

```dart
final safeTool = Tool(
  name: 'divide',
  description: 'Divide two numbers',
  inputSchema: JsonSchema.object({
    'a': JsonSchema.number(),
    'b': JsonSchema.number(),
  }),
  onCall: (args) async {
    final b = args['b'] as num;
    if (b == 0) {
      throw ToolException('Cannot divide by zero');
    }
    return {'result': (args['a'] as num) / b};
  },
);
```

## Return Result Tool

For typed output with other tools:

```dart
final returnResult = Tool.returnResult(JsonSchema.object({
  'summary': JsonSchema.string(),
  'count': JsonSchema.integer(),
}));

final agent = Agent('openai', tools: [
  analysisTool,
  returnResult,
]);
```

## Best Practices

1. **Clear names**: Use descriptive, action-oriented names
2. **Good descriptions**: Help AI understand when to use the tool
3. **Validate inputs**: Use schema constraints
4. **Handle errors**: Throw ToolException for recoverable errors
5. **Return JSON**: Always return `Map<String, dynamic>`

## Examples

- [Single tool call](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/single_tool_call.dart)
- [Multiple tool calls](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/multi_tool_call.dart)
- [Agent with tools](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/agent.dart)
- [MCP server tools](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/mcp_servers.dart)

## Next Steps

- [Tool Calling](/tool-calling) - Using tools with chat agents
- [Typed Output](/typed-output) - Structured output with tools
