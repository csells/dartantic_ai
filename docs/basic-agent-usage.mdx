---
title: Basic Agent Usage
---

# Basic Agent Usage

The following shows simple agent usage using the `Agent()` constructor, which takes a model string.

```dart
void main() async {
  // Create an agent with a model string
  final agent = Agent(
    'openai',  // Can also use 'openai:gpt-4o' or 'openai/gpt-4o'
  );

  // Run the agent with a prompt and system message
  final result = await agent.send(
    'Where does "hello world" come from?',
    history: [
      const ChatMessage.system('Be concise, reply with one sentence.'),
    ],
  );
  print(result.output); // Output: one sentence on the origin of "hello world"
}
```

Alternatively, you can use the `Agent.forProvider()` constructor which takes a provider directly:

```dart
void main() async {
  // Create an agent with a provider
  final agent = Agent.forProvider(
    Providers.openai,
  );

  // Run the agent with a prompt and system message
  final result = await agent.send(
    'Where does "hello world" come from?',
    history: [
      const ChatMessage.system('Be concise, reply with one sentence.'),
    ],
  );
  print(result.output); // Output: one sentence on the origin of "hello world"
}
```

## Model Strings

The model string used by `Agent` can be specified in several ways:
- Just the `provider`, e.g. `openai` → specifies whatever the default model for that provider
- `provider:model`, e.g. `google:gemini-2.0-flash` → specifies a provider and model, separated by a **colon**
- `provider/model`, e.g. `google/gemini-2.0-flash` → specifies a provider and model, separated by a **slash**

## Providers
A provider is a Dart type like `GoogleProvider` that knows how to expose model objects. When you pass in a model string, you're really looking up a provider object and a model object for the agent to do its work.

You can see the list of [Supported Providers](/providers) that Dartantic exposes. And you can build your own [Custom Providers](/custom-providers) if you like.

## Provider Aliases

Some providers support multiple provider prefixes. The alias can be used where the provider name is specified, e.g. `gemini:gemini-2.0-flash` → `google:gemini-2.0-flash`. Here's where you can see the list of aliases for each of the [Supported Providers](/providers).

## Embeddings

```dart
// Single text
final result = await agent.embedQuery('Hello');

// Multiple texts  
final results = await agent.embedDocuments(['Hi', 'Hey', 'Hello']);

// Compare
final similarity = EmbeddingsModel.cosineSimilarity(
  result.embeddings,
  results.embeddings[0],
);
```

## Examples

- [Simple chat](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/single_turn_chat.dart)
- [Agent with tools](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/agent.dart)
- [Embeddings](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/embeddings.dart)
- [Model string formats](https://github.com/csells/darantic_ai/blob/main/packages/dartantic_ai/example/bin/model_string.dart)
